{"architecture":"amd64","config":{"User":"root","ExposedPorts":{"3306/tcp":{},"33060/tcp":{}},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","GOSU_VERSION=1.16","MYSQL_MAJOR=8.0","MYSQL_VERSION=8.0.33-1.el8","MYSQL_SHELL_VERSION=8.0.33-1.el8"],"Entrypoint":["docker-entrypoint.sh"],"Cmd":["mysqld"],"Volumes":{"/var/lib/mysql":{}},"OnBuild":null},"created":"2023-05-17T00:52:06.638819453Z","history":[{"created":"2023-04-06T18:20:31.798436533Z","created_by":"/bin/sh -c #(nop) ADD file:61a2085af5116916e7b117c2e7ad7116bdc0282d8fa9ce76191c4101f5e866ff in / "},{"created":"2023-04-06T18:20:32.075056823Z","created_by":"/bin/sh -c #(nop)  CMD [\"/bin/bash\"]","empty_layer":true},{"created":"2023-04-06T18:43:29.344610719Z","created_by":"/bin/sh -c set -eux; \tgroupadd --system --gid 999 mysql; \tuseradd --system --uid 999 --gid 999 --home-dir /var/lib/mysql --no-create-home mysql"},{"created":"2023-04-06T18:43:29.422150068Z","created_by":"/bin/sh -c #(nop)  ENV GOSU_VERSION=1.16","empty_layer":true},{"created":"2023-04-06T18:43:32.083703364Z","created_by":"/bin/sh -c set -eux; \tarch=\"$(uname -m)\"; \tcase \"$arch\" in \t\taarch64) gosuArch='arm64' ;; \t\tx86_64) gosuArch='amd64' ;; \t\t*) echo \u003e\u00262 \"error: unsupported architecture: '$arch'\"; exit 1 ;; \tesac; \tcurl -fL -o /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$gosuArch.asc\"; \tcurl -fL -o /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$gosuArch\"; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4; \tgpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu; \trm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc; \tchmod +x /usr/local/bin/gosu; \tgosu --version; \tgosu nobody true"},{"created":"2023-04-06T18:43:56.882625399Z","created_by":"/bin/sh -c set -eux; \tmicrodnf install -y \t\tbzip2 \t\tgzip \t\topenssl \t\txz \t\tzstd \t\tfindutils \t; \tmicrodnf clean all"},{"created":"2023-04-06T18:43:58.025275678Z","created_by":"/bin/sh -c set -eux; \tkey='859BE8D7C586F538430B19C2467B942D3A79BD29'; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \tgpg --batch --export --armor \"$key\" \u003e /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql; \trm -rf \"$GNUPGHOME\""},{"created":"2023-04-06T18:43:58.105775953Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_MAJOR=8.0","empty_layer":true},{"created":"2023-04-17T22:43:23.37668104Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_VERSION=8.0.33-1.el8","empty_layer":true},{"created":"2023-04-17T22:43:23.919235971Z","created_by":"/bin/sh -c set -eu; \t. /etc/os-release; \t{ \t\techo '[mysql8.0-server-minimal]'; \t\techo 'name=MySQL 8.0 Server Minimal'; \t\techo 'enabled=1'; \t\techo \"baseurl=https://repo.mysql.com/yum/mysql-8.0-community/docker/el/${VERSION_ID%%[.-]*}/\\$basearch/\"; \t\techo 'gpgcheck=1'; \t\techo 'gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql'; \t\techo 'module_hotfixes=true'; \t} | tee /etc/yum.repos.d/mysql-community-minimal.repo"},{"created":"2023-04-17T22:43:55.798974333Z","created_by":"/bin/sh -c set -eux; \tmicrodnf install -y \"mysql-community-server-minimal-$MYSQL_VERSION\"; \tmicrodnf clean all; \tgrep -F 'socket=/var/lib/mysql/mysql.sock' /etc/my.cnf; \tsed -i 's!^socket=.*!socket=/var/run/mysqld/mysqld.sock!' /etc/my.cnf; \tgrep -F 'socket=/var/run/mysqld/mysqld.sock' /etc/my.cnf; \t{ echo '[client]'; echo 'socket=/var/run/mysqld/mysqld.sock'; } \u003e\u003e /etc/my.cnf; \t\t! grep -F '!includedir' /etc/my.cnf; \t{ echo; echo '!includedir /etc/mysql/conf.d/'; } \u003e\u003e /etc/my.cnf; \tmkdir -p /etc/mysql/conf.d; \tmkdir -p /var/lib/mysql /var/run/mysqld; \tchown mysql:mysql /var/lib/mysql /var/run/mysqld; \tchmod 1777 /var/lib/mysql /var/run/mysqld; \t\tmkdir /docker-entrypoint-initdb.d; \t\tmysqld --version; \tmysql --version"},{"created":"2023-04-17T22:43:56.607316543Z","created_by":"/bin/sh -c set -eu; \t. /etc/os-release; \t{ \t\techo '[mysql-tools-community]'; \t\techo 'name=MySQL Tools Community'; \t\techo \"baseurl=https://repo.mysql.com/yum/mysql-tools-community/el/${VERSION_ID%%[.-]*}/\\$basearch/\"; \t\techo 'enabled=1'; \t\techo 'gpgcheck=1'; \t\techo 'gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql'; \t\techo 'module_hotfixes=true'; \t} | tee /etc/yum.repos.d/mysql-community-tools.repo"},{"created":"2023-04-17T22:43:56.690783388Z","created_by":"/bin/sh -c #(nop)  ENV MYSQL_SHELL_VERSION=8.0.33-1.el8","empty_layer":true},{"created":"2023-04-17T22:44:32.55643072Z","created_by":"/bin/sh -c set -eux; \tmicrodnf install -y \"mysql-shell-$MYSQL_SHELL_VERSION\"; \tmicrodnf clean all; \t\tmysqlsh --version"},{"created":"2023-04-17T22:44:33.390204075Z","created_by":"/bin/sh -c #(nop)  VOLUME [/var/lib/mysql]","empty_layer":true},{"created":"2023-04-17T22:44:33.490086183Z","created_by":"/bin/sh -c #(nop) COPY file:e9c22353a1133b89c5bca24ecacd348acd094e50e5e5c45375a997c6b1f07192 in /usr/local/bin/ "},{"created":"2023-04-17T22:44:34.05697166Z","created_by":"/bin/sh -c ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh # backwards compat"},{"created":"2023-04-17T22:44:34.153617897Z","created_by":"/bin/sh -c #(nop)  ENTRYPOINT [\"docker-entrypoint.sh\"]","empty_layer":true},{"created":"2023-04-17T22:44:34.260911074Z","created_by":"/bin/sh -c #(nop)  EXPOSE 3306 33060","empty_layer":true},{"created":"2023-04-17T22:44:34.355739397Z","created_by":"/bin/sh -c #(nop)  CMD [\"mysqld\"]","empty_layer":true},{"created":"2023-05-17T00:52:06.638819453Z","created_by":"USER root","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2023-05-17T00:52:06.638819453Z","created_by":"RUN /bin/sh -c chmod 755 /var/lib/mysql # buildkit","comment":"buildkit.dockerfile.v0"}],"moby.buildkit.buildinfo.v1":"eyJmcm9udGVuZCI6ImRvY2tlcmZpbGUudjAiLCJhdHRycyI6eyJmaWxlbmFtZSI6IkRvY2tlcmZpbGUifSwic291cmNlcyI6W3sidHlwZSI6ImRvY2tlci1pbWFnZSIsInJlZiI6ImRvY2tlci5pby9saWJyYXJ5L215c3FsOmxhdGVzdCIsInBpbiI6InNoYTI1NjphNDNmNmU3ZTdmM2E1ZTViOTBmODU3ZmJlZDRlMzEwM2VjZTc3MWIxOWYwZjc1ODgwZjc2N2NmNjZiYmI2NTc3In1dfQ==","os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:caefa4e45110eab274ebbdbc781f9227229f947f8718cee62ebeff1aac8f1d5b","sha256:5ed69eb31cd773570fc2cdad9c6224f65db7475b3ca8d22e70c8ab24f7c5005c","sha256:a9805d41c46adbdef5a8b43096d0928f57c30687950ad0a80ce317190abd1c05","sha256:3f772020efc1dbae8c80a4bb7597c3952991b73cc8c7c9cd1467ba5a323684a3","sha256:08745f0c18ca985883f4099696bd2499179aeb221275647d0bf5ed8c475b7bbb","sha256:1c585189e67fdc2030c09ab748ad5fab930ca32eade2a28a290f3b17b35e32f7","sha256:bd6b6a89e10a7cdc0eef1d4a90db1afd39a647aa075c92f595164eaf2069935f","sha256:82a375517098b527686d74ce3e158e77deb7accde153ca19dd2207d9b14b5058","sha256:44eaf2264b913c20d7732546a815a86f802a8be8ab2bcb357962f70798f65fc9","sha256:ac2f3d433b8e30367e3bed5c72cd5fdd0422b2a5bcff0f0a95571459ce9b425a","sha256:a4f094a199131314e86227d611298d820819bea9c70c8c78166c0f3bf147e212","sha256:17d92864dc43b95133ac66c43147263803b7d4e5466b4bc7766b402b396f8a01"]}}